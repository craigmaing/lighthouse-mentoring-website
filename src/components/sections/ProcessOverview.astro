---
import { 
  Phone, 
  ClipboardList, 
  Brain, 
  FileText,
  ChevronRight,
  CheckCircle,
  ArrowRight,
  Clock,
  Sparkles
} from 'lucide-astro';

const steps = [
  {
    number: "01",
    title: "Initial Wellbeing Consultation",
    description: "We analyze your workplace challenges and customize our wellbeing audit to your specific needs.",
    details: [
      "30-minute consultation",
      "Understand your goals",
      "Customize approach"
    ],
    duration: "Day 1",
    icon: Phone,
    color: "from-primary-400 to-primary-600",
    iconBg: "bg-primary-100",
    iconColor: "text-primary-600"
  },
  {
    number: "02", 
    title: "Employee Wellness Assessment",
    description: "Comprehensive data collection using AI-powered surveys to measure workplace wellbeing and employee engagement.",
    details: [
      "Anonymous surveys sent",
      "Leadership interviews",
      "Culture assessment"
    ],
    duration: "Days 2-10",
    icon: ClipboardList,
    color: "from-accent-400 to-accent-600",
    iconBg: "bg-accent-100",
    iconColor: "text-accent-600"
  },
  {
    number: "03",
    title: "AI-Powered Analysis",
    description: "Our wellbeing audit uses advanced AI analysis combined with Craig's expertise to identify patterns in your workplace wellness data.",
    details: [
      "AI-powered insights",
      "Pattern recognition",
      "Expert validation"
    ],
    duration: "Days 11-18",
    icon: Brain,
    color: "from-primary-500 to-primary-700",
    iconBg: "bg-primary-100",
    iconColor: "text-primary-600"
  },
  {
    number: "04",
    title: "Wellbeing Audit Report",
    description: "Comprehensive workplace wellbeing assessment results with actionable insights and ROI-focused recommendations.",
    details: [
      "Executive presentation",
      "Action roadmap",
      "Ongoing support"
    ],
    duration: "Day 21",
    icon: FileText,
    color: "from-accent-500 to-accent-700",
    iconBg: "bg-accent-100",
    iconColor: "text-accent-600"
  }
];

---

<section id="process-overview" class="section relative bg-gradient-to-br from-white via-primary-50/20 to-secondary-50/10 overflow-hidden">
  <!-- Background Pattern -->
  <div class="absolute inset-0 opacity-5">
    <div class="absolute top-0 left-1/4 w-96 h-96 bg-primary-500 rounded-full filter blur-3xl"></div>
    <div class="absolute bottom-0 right-1/4 w-96 h-96 bg-accent-500 rounded-full filter blur-3xl"></div>
  </div>

  <!-- Timeline Background Line (Desktop) -->
  <div class="hidden lg:block absolute top-1/2 left-0 right-0 h-0.5 bg-gradient-to-r from-transparent via-primary-300 to-transparent transform -translate-y-1/2 z-0"></div>

  <div class="container relative z-10">
    <div class="text-center mb-12">
      <h2 class="text-3xl md:text-5xl font-bold text-gray-900 mb-4">
        Your <span class="text-gradient bg-gradient-to-r from-primary-600 to-accent-600 bg-clip-text text-transparent">21-Day Journey</span> to Workplace Transformation
      </h2>
      <p class="text-base md:text-lg text-gray-700 max-w-3xl mx-auto leading-relaxed">
        Our workplace wellbeing assessment follows a proven 4-step methodology. From initial employee wellness audit to actionable insights, 
        we deliver comprehensive results within <span class="font-semibold text-primary-600">3-4 weeks</span>.
      </p>
    </div>

    <div class="relative mb-16">
      <!-- Mobile Timeline Line -->
      <div class="lg:hidden absolute left-8 top-0 bottom-0 w-0.5 bg-gradient-to-b from-primary-200 via-primary-400 to-primary-200"></div>
      
      <!-- Process Steps -->
      <div class="grid lg:grid-cols-4 gap-8 lg:gap-4">
        {steps.map((step, index) => (
          <div class="relative process-step" style={`animation-delay: ${index * 0.15}s`}>
            <!-- Connector Arrow (Desktop) -->
            {index < steps.length - 1 && (
              <div class="hidden lg:block absolute top-1/2 -right-4 transform -translate-y-1/2 z-20">
                <ChevronRight class="w-8 h-8 text-primary-300" />
              </div>
            )}
            
            <!-- Step Card -->
            <div class="group relative bg-white rounded-2xl p-6 shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 border-t-4 border-primary-500 h-full">
              <!-- Step Number Badge -->
              <div class="absolute -top-4 left-6 bg-gradient-to-r from-primary-600 to-accent-600 text-white px-3 py-1 rounded-full text-sm font-bold shadow-lg">
                Step {step.number}
              </div>
              
              <!-- Icon & Duration -->
              <div class="flex items-center justify-between mb-4 mt-2">
                <div class={`w-14 h-14 ${step.iconBg} rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform`}>
                  <step.icon class={`w-7 h-7 ${step.iconColor}`} />
                </div>
                <div class="flex items-center gap-1 text-sm text-gray-600">
                  <Clock class="w-4 h-4" />
                  <span class="font-semibold">{step.duration}</span>
                </div>
              </div>
              
              <!-- Content -->
              <h3 class="text-lg font-bold text-gray-900 mb-3 group-hover:text-primary-700 transition-colors">
                {step.title}
              </h3>
              <p class="text-sm text-gray-600 mb-4 leading-relaxed">
                {step.description}
              </p>
              
              <!-- Details List -->
              <ul class="space-y-2">
                {step.details.map((detail) => (
                  <li class="flex items-start gap-2">
                    <CheckCircle class="w-4 h-4 text-primary-500 mt-0.5 flex-shrink-0" />
                    <span class="text-xs text-gray-700">{detail}</span>
                  </li>
                ))}
              </ul>
              
              <!-- Progress Indicator -->
              <div class="mt-4 pt-4 border-t border-gray-100">
                <div class="flex items-center justify-between">
                  <span class="text-xs font-semibold text-gray-500">PHASE {step.number}</span>
                  <div class="flex gap-1">
                    {[...Array(4)].map((_, i) => (
                      <div class={`w-2 h-2 rounded-full ${i <= index ? 'bg-primary-500' : 'bg-gray-300'}`}></div>
                    ))}
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Mobile Timeline Dot -->
            <div class="lg:hidden absolute left-0 top-8 w-16 h-16 flex items-center justify-center">
              <div class="w-4 h-4 bg-primary-500 rounded-full ring-4 ring-white shadow-lg"></div>
            </div>
          </div>
        ))}
      </div>

      <!-- Timeline Summary -->
      <div class="mt-12 bg-gradient-to-r from-primary-50 to-accent-50 rounded-2xl p-6 border border-primary-200">
        <div class="flex flex-col md:flex-row items-center justify-between gap-4">
          <div class="flex items-center gap-3">
            <div class="w-12 h-12 bg-white rounded-full flex items-center justify-center shadow-md">
              <Sparkles class="w-6 h-6 text-primary-600" />
            </div>
            <div>
              <p class="text-sm font-semibold text-gray-900">Total Timeline</p>
              <p class="text-2xl font-bold text-primary-600">21 Days</p>
            </div>
          </div>
          <div class="flex items-center gap-2 text-sm text-gray-600">
            <CheckCircle class="w-5 h-5 text-green-500" />
            <span>From first call to full report delivery</span>
          </div>
        </div>
      </div>
    </div>

    <!-- CTA -->
    <div class="text-center mt-12">
      <p class="text-lg font-semibold text-gray-900 mb-6">Ready to begin your 21-day transformation?</p>
      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <a href="#service-comparison" class="group inline-flex items-center justify-center px-8 py-4 text-base font-medium text-white bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 rounded-lg shadow-lg transform hover:scale-105 transition-all duration-300">
          Choose Your Package
          <ArrowRight class="ml-2 w-5 h-5 group-hover:translate-x-1 transition-transform" />
        </a>
      </div>
    </div>
  </div>
</section>

<style>
  /* Text gradient animation */
  .text-gradient {
    background-size: 200% auto;
    animation: gradient-shift 3s ease infinite;
  }
  
  @keyframes gradient-shift {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }
  
  /* Process step animation */
  .process-step {
    opacity: 0;
    animation: slideInUp 0.8s ease-out forwards;
  }
  
  @keyframes slideInUp {
    from {
      opacity: 0;
      transform: translateY(40px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  @keyframes fadeInScale {
    from {
      opacity: 0;
      transform: scale(0.9);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }
  
  /* Progress dots pulse */
  @keyframes pulse {
    0%, 100% {
      opacity: 1;
    }
    50% {
      opacity: 0.5;
    }
  }
</style>