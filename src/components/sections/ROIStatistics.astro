---
import AnimatedCounter from '../AnimatedCounter.astro';
import { 
  TrendingUp, 
  PoundSterling, 
  Users, 
  Target,
  Coins,
  Heart,
  Shield,
  ArrowUpRight,
  ArrowDownRight,
  Sparkles,
  CheckCircle,
  AlertCircle,
  ArrowRight
} from 'lucide-astro';

const impactMetrics = [
  {
    icon: TrendingUp,
    title: "Productivity Impact",
    description: "Investment in wellbeing drives measurable productivity gains",
    color: "text-green-600",
    bgColor: "bg-green-100"
  },
  {
    icon: Coins,
    title: "Cost Reduction",
    description: "Reduced absenteeism and lower recruitment costs",
    color: "text-blue-600",
    bgColor: "bg-blue-100"
  },
  {
    icon: Users,
    title: "Staff Retention",
    description: "Improved employee loyalty and reduced turnover",
    color: "text-purple-600",
    bgColor: "bg-purple-100"
  },
  {
    icon: Shield,
    title: "Risk Mitigation",
    description: "Lower workplace accidents and compliance issues",
    color: "text-orange-600",
    bgColor: "bg-orange-100"
  }
];
---

<section id="roi-statistics" class="section relative bg-gradient-to-br from-white via-primary-50/40 to-accent-50/30 overflow-hidden">
  <!-- Background Patterns -->
  <div class="absolute inset-0">
    <div class="absolute top-1/3 -left-1/4 w-[500px] h-[500px] bg-primary-400 rounded-full opacity-[0.03] blur-3xl"></div>
    <div class="absolute bottom-1/3 -right-1/4 w-[500px] h-[500px] bg-accent-400 rounded-full opacity-[0.03] blur-3xl"></div>
  </div>
  
  <!-- Floating Pound Signs Background -->
  <div class="absolute inset-0 overflow-hidden opacity-[0.02]">
    <div class="absolute top-10 left-10 text-8xl font-bold text-primary-600 transform rotate-12">£</div>
    <div class="absolute top-1/3 right-20 text-6xl font-bold text-accent-600 transform -rotate-12">£</div>
    <div class="absolute bottom-20 left-1/4 text-7xl font-bold text-primary-600 transform rotate-6">£</div>
    <div class="absolute bottom-1/3 right-1/3 text-9xl font-bold text-accent-600 transform -rotate-6">£</div>
  </div>
  
  <div class="container relative z-10">
    <div class="text-center mb-16">
      <h2 class="text-3xl md:text-5xl font-bold text-gray-900 mb-4">
        The <span class="text-gradient bg-gradient-to-r from-primary-600 to-accent-600 bg-clip-text text-transparent">ROI</span> of Workplace Wellbeing Audits
      </h2>
      <p class="text-base md:text-lg text-gray-700 max-w-3xl mx-auto mb-4 leading-relaxed">
        Mental health in the workplace is a <span class="font-bold text-red-600">£51 billion challenge</span> for UK businesses. Our comprehensive workplace wellbeing 
        assessments help organizations understand and address the root causes of poor employee wellbeing, delivering 
        measurable improvements in productivity, retention, and engagement.
      </p>
      <p class="text-gray-600 max-w-3xl mx-auto">
        Through our workplace culture assessment approach, we analyze employee satisfaction, stress levels, and organizational 
        dynamics. This data-driven workplace wellbeing audit process helps UK businesses transform their culture while 
        achieving significant return on investment.
      </p>
    </div>
    
    <!-- Main Statistics Cards -->
    <div class="grid lg:grid-cols-3 gap-6 max-w-6xl mx-auto mb-16">
      <div class="group stat-card bg-white rounded-2xl p-8 shadow-xl hover:shadow-2xl transition-all duration-300 border border-primary-100 relative overflow-hidden" style="animation-delay: 0.1s">
        <!-- Background Gradient -->
        <div class="absolute inset-0 bg-gradient-to-br from-green-50 to-green-100/50 opacity-0 group-hover:opacity-100 transition-opacity"></div>
        
        <div class="relative z-10">
          <!-- Success Indicator -->
          <div class="absolute -top-2 -right-2">
            <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center">
              <ArrowUpRight class="w-8 h-8 text-green-600" />
            </div>
          </div>
          
          <div class="mb-4">
            <PoundSterling class="w-10 h-10 text-primary-600 mb-2" />
            <p class="text-sm font-semibold text-gray-600 uppercase tracking-wider">Return on Investment</p>
          </div>
          
          <AnimatedCounter 
            value="4.70" 
            prefix="£" 
            label=""
            duration={2500}
            class="text-5xl font-bold bg-gradient-to-r from-green-600 to-green-700 bg-clip-text text-transparent"
          />
          
          <div class="mt-4 pt-4 border-t border-gray-100">
            <p class="text-sm text-gray-700 font-medium">For every £1 invested in workplace wellbeing¹</p>
            <div class="mt-2 flex items-center gap-2">
              <div class="flex-grow bg-gray-200 rounded-full h-2 overflow-hidden">
                <div class="bg-gradient-to-r from-green-500 to-green-600 h-full rounded-full" style="width: 94%"></div>
              </div>
              <span class="text-xs font-bold text-green-600">4.7x</span>
            </div>
          </div>
        </div>
      </div>
      
      <div class="group stat-card bg-white rounded-2xl p-8 shadow-xl hover:shadow-2xl transition-all duration-300 border border-red-100 relative overflow-hidden" style="animation-delay: 0.2s">
        <!-- Background Gradient -->
        <div class="absolute inset-0 bg-gradient-to-br from-red-50 to-red-100/50 opacity-0 group-hover:opacity-100 transition-opacity"></div>
        
        <div class="relative z-10">
          <!-- Warning Indicator -->
          <div class="absolute -top-2 -right-2">
            <div class="w-16 h-16 bg-red-100 rounded-full flex items-center justify-center animate-pulse">
              <AlertCircle class="w-8 h-8 text-red-600" />
            </div>
          </div>
          
          <div class="mb-4">
            <Coins class="w-10 h-10 text-red-600 mb-2" />
            <p class="text-sm font-semibold text-gray-600 uppercase tracking-wider">Annual Cost to UK</p>
          </div>
          
          <AnimatedCounter 
            value="51" 
            prefix="£" 
            suffix="bn"
            label=""
            duration={2500}
            class="text-5xl font-bold bg-gradient-to-r from-red-600 to-red-700 bg-clip-text text-transparent"
          />
          
          <div class="mt-4 pt-4 border-t border-gray-100">
            <p class="text-sm text-gray-700 font-medium">Poor mental health costs to UK employers²</p>
            <div class="mt-2 flex items-center gap-2">
              <AlertCircle class="w-4 h-4 text-red-500" />
              <span class="text-xs font-bold text-red-600">UK's productivity challenge</span>
            </div>
          </div>
        </div>
      </div>
      
      <div class="group stat-card bg-white rounded-2xl p-8 shadow-xl hover:shadow-2xl transition-all duration-300 border border-primary-100 relative overflow-hidden" style="animation-delay: 0.3s">
        <!-- Background Gradient -->
        <div class="absolute inset-0 bg-gradient-to-br from-purple-50 to-purple-100/50 opacity-0 group-hover:opacity-100 transition-opacity"></div>
        
        <div class="relative z-10">
          <!-- Priority Indicator -->
          <div class="absolute -top-2 -right-2">
            <div class="w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center">
              <Heart class="w-8 h-8 text-purple-600" />
            </div>
          </div>
          
          <div class="mb-4">
            <Users class="w-10 h-10 text-purple-600 mb-2" />
            <p class="text-sm font-semibold text-gray-600 uppercase tracking-wider">Employee Priority</p>
          </div>
          
          <AnimatedCounter 
            value="64" 
            suffix="%"
            label=""
            duration={2500}
            class="text-5xl font-bold bg-gradient-to-r from-purple-600 to-purple-700 bg-clip-text text-transparent"
          />
          
          <div class="mt-4 pt-4 border-t border-gray-100">
            <p class="text-sm text-gray-700 font-medium">Workers who prioritize mental health support³</p>
            <div class="mt-2 flex items-center gap-2">
              <div class="flex-grow bg-gray-200 rounded-full h-2 overflow-hidden">
                <div class="bg-gradient-to-r from-purple-500 to-purple-600 h-full rounded-full" style="width: 64%"></div>
              </div>
              <span class="text-xs font-bold text-purple-600">Majority</span>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Impact Metrics Grid -->
    <div class="bg-white rounded-3xl shadow-2xl p-10 max-w-5xl mx-auto mb-12 relative overflow-hidden">
      <!-- Header Gradient Bar -->
      <div class="absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-primary-500 via-accent-500 to-primary-500"></div>
      
      <h3 class="text-2xl md:text-3xl font-bold text-gray-900 mb-8 text-center">
        What This Means For <span class="text-gradient bg-gradient-to-r from-primary-600 to-accent-600 bg-clip-text text-transparent">Your Business</span>
      </h3>
      
      <div class="grid md:grid-cols-2 gap-6">
        {impactMetrics.map((metric, index) => (
          <div class="group impact-card p-5 rounded-xl bg-gradient-to-br from-gray-50 to-white border border-gray-100 hover:border-primary-200 hover:shadow-lg transition-all duration-300" style={`animation-delay: ${index * 0.1}s`}>
            <div class="flex items-start gap-4">
              <div class={`w-14 h-14 ${metric.bgColor} rounded-xl flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-transform`}>
                <metric.icon class={`w-7 h-7 ${metric.color}`} />
              </div>
              <div class="flex-grow">
                <h4 class="font-bold text-gray-900 mb-2">{metric.title}</h4>
                <p class="text-sm text-gray-600 leading-relaxed">{metric.description}</p>
              </div>
            </div>
          </div>
        ))}
      </div>
      
      <!-- Key Insight -->
      <div class="mt-8 p-6 bg-gradient-to-r from-primary-50 to-accent-50 rounded-2xl border border-primary-200">
        <div class="flex flex-col md:flex-row items-center justify-between gap-4">
          <div class="flex items-center gap-3">
            <div class="w-12 h-12 bg-white rounded-full flex items-center justify-center shadow-md">
              <Sparkles class="w-6 h-6 text-primary-600" />
            </div>
            <div>
              <p class="text-sm font-semibold text-gray-600">Evidence-Based Impact</p>
              <p class="text-lg font-bold text-gray-900">Every <span class="text-primary-600">£1 invested</span> returns <span class="text-primary-600">£4.70</span> in value¹</p>
            </div>
          </div>
          <a href="#assessment" class="inline-flex items-center gap-2 text-primary-600 hover:text-primary-700 font-medium group">
            <span>Learn more about ROI</span>
            <ArrowRight class="w-4 h-4 group-hover:translate-x-1 transition-transform" />
          </a>
        </div>
      </div>
    </div>
    
    <!-- CTA Section -->
    <div class="text-center mt-16">
      <div class="bg-gradient-to-br from-white to-primary-50/50 rounded-3xl p-10 max-w-4xl mx-auto shadow-xl border border-primary-100">
        <h4 class="text-2xl font-bold text-gray-900 mb-4">
          Ready to Improve Mental Health in Your Workplace?
        </h4>
        <p class="text-gray-700 mb-8 max-w-2xl mx-auto leading-relaxed">
          Our workplace wellbeing audit combines employee satisfaction measurement with organizational culture analysis 
          to provide actionable insights. Discover how UK businesses are using our assessments to create healthier, 
          more productive work environments.
        </p>
        
        <div class="flex flex-col sm:flex-row gap-4 justify-center items-center mb-6">
          <a href="#service-comparison" class="group inline-flex items-center justify-center px-8 py-4 text-base font-medium text-white bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 rounded-lg shadow-lg transform hover:scale-105 transition-all duration-300">
            View Audit Packages
            <ArrowRight class="ml-2 w-5 h-5 group-hover:translate-x-1 transition-transform" />
          </a>
          <a href="#assessment" class="inline-flex items-center text-primary-600 hover:text-primary-700 font-medium group">
            <span>Book free consultation</span>
            <ArrowRight class="ml-1 w-4 h-4 group-hover:translate-x-1 transition-transform" />
          </a>
        </div>
        
        <div class="flex items-center justify-center gap-6 text-sm text-gray-600">
          <div class="flex items-center gap-2">
            <CheckCircle class="w-4 h-4 text-green-500" />
            <span>Proven ROI</span>
          </div>
          <div class="flex items-center gap-2">
            <CheckCircle class="w-4 h-4 text-green-500" />
            <span>Evidence-based</span>
          </div>
          <div class="flex items-center gap-2">
            <CheckCircle class="w-4 h-4 text-green-500" />
            <span>UK-focused</span>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Citations -->
    <div class="text-xs text-gray-500 text-center mt-8 pt-6 border-t border-gray-200">
      <p class="max-w-3xl mx-auto">¹ Deloitte UK (2024) | ² Deloitte UK Mental Health Report (2024) | ³ CIPD Health & Wellbeing Survey (2023)</p>
    </div>
  </div>
</section>

<style>
  /* Text gradient animation */
  .text-gradient {
    background-size: 200% auto;
    animation: gradient-shift 3s ease infinite;
  }
  
  @keyframes gradient-shift {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }
  
  /* Stat card animation */
  .stat-card {
    opacity: 0;
    animation: slideInUp 0.8s ease-out forwards;
  }
  
  .impact-card {
    opacity: 0;
    animation: fadeInScale 0.6s ease-out forwards;
  }
  
  @keyframes slideInUp {
    from {
      opacity: 0;
      transform: translateY(40px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  @keyframes fadeInScale {
    from {
      opacity: 0;
      transform: scale(0.95);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }
</style>